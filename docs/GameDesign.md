# 游戏完整设计文档

## 一、游戏基础设定
### 1. 游戏概述
- 游戏类型：网络射击游戏
- 目标平台：PC + Mobile
- 游戏模式：
  * 单人练习模式
  * 1v1 对战模式
  * 2v2 对战模式

### 2. 地图设计
- 总体比例：17*10
- 实际可移动空间：7*7
- 中间特殊区域：3*10
- 其他区域：预留UI位置

### 3. 玩家基础属性
- 初始血量：100点
- 移动方式：8方向移动
- 无复活机制
- 技能切换：
  * Q键：小型/中型子弹切换
  * E键：大型子弹
  * J/K/N：射击方向
  * M：角度切换(30/45度)

## 二、核心系统
### 1. 射击系统
#### 1.1 子弹类型
1. 小型子弹：
- 外观：橘黄色光球
- 伤害：1点
- 存在时间：8-10秒
- 特效：光晕+拖尾
- 击中效果：轻微位移

2. 中型子弹：
- 外观：紫色胶囊体
- 伤害：5点
- 存在时间：6-8秒
- 特效：黑色粒子拖尾
- 击中效果：眩晕1秒+轻微位移

3. 大型子弹：
- 外观：3*3*1矩形体，旧羊皮色
- 伤害：20点
- 存在时间：4-5秒
- 特效：风带拖尾
- 击中效果：强制位移+屏幕震动

#### 1.2 射击角度系统
- 5个射击方向：
  1. 直线射击(J键)
  2. 左30/45度(K键)
  3. 右30/45度(N键)
  * M键切换30/45度角

#### 1.3 反弹设定
- 最大反弹次数：3次
- 反弹后保持原有属性
- 反弹计数由发射方记录

### 2. 中心形状系统
#### 2.1 位置规则
- 在中心3*7区域
- 上下浮动范围±1
- 40秒随机切换
- 在屏幕中间线移动

#### 2.2 四种形状
1. 圆形(2*2)：
- 收集21颗子弹触发
- 5-8秒随机发射
- 30秒未满爆炸

2. 矩形(2.5*4)：
- 5*8网格
- 击中消失0.5*0.5
- 30秒后消失

3. 三角形(底2.5)：
- 左击顺时针旋转
- 右击逆时针旋转
- 对向击中停止旋转

4. 等腰梯形(上1.8下2.5高1.8)：
- 上进下出：0.2-0.5秒延迟，双发
- 下进上出：速度1.5倍
- 腰部击中效果同三角形

## 三、技术实现
### 1. 项目基础设置
- Unity版本：2022.3 LTS
- 渲染管线：URP 14.0.10
- 分辨率：1920x1080 横屏
- 帧率目标：60 FPS

### 2. 输入系统
#### 2.1 PC端控制
- 移动：WASD
- 射击：J/K/N
- 角度切换：M
- 子弹切换：Q/E

#### 2.2 移动端控制
- 左侧虚拟摇杆
- 右侧功能按钮
- 使用Unity新输入系统

### 3. 物理系统
#### 3.1 碰撞层级
- Layer 8: Player
- Layer 9: Bullet
- Layer 10: Wall
- Layer 11: SpecialArea

### 4. 网络系统（Fusion）
#### 4.1 需要同步的数据
- 玩家位置和朝向
- 子弹发射（位置、方向、类型）
- 子弹碰撞和反弹
- 伤害计算
- 中心形状状态

## 四、UI设计
### 1. 整体风格
- 核心概念：3D立体书本效果
- 主要材质：
  * 纸张材质：奶白色 (RGB: 255, 252, 240)
  * 书脊：皮革纹理 + 金属装饰
  * 边缘：渐变效果模拟书页厚度

### 2. 游戏区域划分
- 左页（游戏区）：
  * 实际游戏区域
  * 网格引导线
  * 边界标记
- 右页（控制区）：
  * 虚拟摇杆
  * 射击按钮组
  * 状态信息

### 3. 特效系统
- 书页效果：
  * 全局环境光遮蔽(AO)
  * 轻微景深效果
  * Bloom效果
- 控制元素：
  * 金属质感操作杆
  * 玻璃质感按钮
  * 点击波纹反馈

## 五、性能要求
- 最大内存：500MB
- 最大同屏子弹：50
- 最大特效粒子：1000
- 输入延迟：<32ms

## 六、开发优先级
### 第一阶段（核心功能）
1. 基础移动系统
- PC端WASD移动
- 7x7范围限制
- 基础碰撞检测

2. 简单射击系统
- 三个方向射击
- 基础子弹逻辑
- 碰撞和反弹

3. 临时UI
- 简单按钮
- 基础信息显示

### 后续阶段
1. 完整特效系统
2. 移动端支持
3. 网络对战
4. UI美化

## 七、测试重点
1. 输入响应
2. 物理碰撞准确性
3. 特效表现流畅度
4. PC/移动端适配

## 八、游戏系统补充

### 1. 胜负系统
#### 1.1 结算条件
- 单人模式：
  * 计时/计分制
  * 完成特定目标
  * 存活时间
  
- 对战模式：
  * 血量归零
  * 出界判定
  * 掉落高度-50
  * 时间限制（3-5分钟）

#### 1.2 积分系统
- 基础分数：
  * 击中得分
  * 存活时间分
  * 连击加成
- 段位系统：
  * 青铜到钻石
  * 赛季更新
  * 排行榜

### 2. 存档系统
建议使用：SaveSystem + JSON
csharp
[System.Serializable]
public class PlayerSaveData
{
public string playerID;
public int level;
public float exp;
public List<string> unlockedBooks;
public List<string> unlockedSkills;
public Dictionary<string, int> resourceAmount;
}




### 3. 道具系统
#### 3.1 消耗品
- 能量补充
- 护盾道具
- 子弹强化
- 临时增益

#### 3.2 永久道具
- 特殊子弹解锁
- 技能书页
- 外观装饰
- 特效强化

### 4. 商店系统
#### 4.1 书页商店
- 基础书页：
  * 不同材质
  * 特殊效果
  * 独特装饰
- 限定书页：
  * 活动限定
  * 赛季主题
  * 成就奖励

#### 4.2 技能商店
- 基础技能：
  * 移动强化
  * 射击增强
  * 防御技能
- 组合技能：
  * 技能槽系统
  * 技能组合效果
  * 冷却时间

### 5. 技能系统
建议使用：ScriptableObject系统

csharp
[CreateAssetMenu(fileName = "New Skill", menuName = "Game/Skill")]
public class SkillData : ScriptableObject
{
public string skillID;
public SkillType type;
public float cooldown;
public int energyCost;
public List<SkillEffect> effects;
}


### 6. 模型系统
建议使用：Addressables资源管理
#### 6.1 模型分类
- 玩家模型
- 子弹模型
- 特效模型
- 场景装饰

#### 6.2 加载策略
- 预加载必要资源
- 动态加载装饰
- 资源池管理
- 内存优化

### 7. 推荐开发系统
1. 存档系统：
- SaveSystem（简单易用）
- PlayerPrefs（小型数据）
- 云存档（后期扩展）

2. 资源管理：
- Addressables（资源加载）
- AssetBundle（资源打包）
- 对象池（性能优化）

3. UI框架：
- UGUI + DOTween
- 自定义UI框架
- UI对象池

4. 网络系统：
- Fusion（已选用）
- 房间管理
- 匹配系统

### 8. 后期扩展
1. 社交系统：
- 好友系统
- 组队功能
- 工会系统

2. 成就系统：
- 个人成就
- 赛季任务
- 每日挑战

3. 排行榜：
- 个人排行
- 工会排行
- 赛季排名

4. 活动系统：
- 限时活动
- 特殊模式
- 节日活动